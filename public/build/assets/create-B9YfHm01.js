import{r as o,W as M,j as e,a as I}from"./app-D84j7SCT.js";import{H as O,N as q,b as H}from"./Header-C3uwYM-0.js";import{N as R}from"./notyf.min-DLu_xjpT.js";import{M as p}from"./Modal-bGK6CJj4.js";import{g as u}from"./index-D4x-ylCN.js";import"./iconBase-Cc3CELI8.js";import"./index-TAr1_Bl1.js";import"./transition-DLTnf3RO.js";const d=new R,Q=({user:v,user_type:N,roles:g,notif:f,branches:y,department:C,designation:w})=>{const[F,j]=o.useState(!1),[k,_]=o.useState(!1),[D,b]=o.useState(!1),{data:s,setData:h,post:m,errors:a}=M({name:"",email:"",password:"",phone:"",address:"",dob:"",gender:"",joinning_date:"",branch_id:"",department_id:"",designation_id:"",company_doj:"",account_holder_name:"",account_number:"",bank_name:"",bank_identifier_code:"",branch_location:"",tax_payer_id:"",roleemployee:"",net_salary:"",basic_salary:"",ifsc_code:"",apc_no:"",ptax_no:"",pf_no:"",esi_no:"",pan_no:"",aadhar_no:"",documents:[{name:"",type:"",file:null}],d_name:"",b_name:"",ds_name:"",cv:"",can_cheque:"",declaration:"",employee:"",employmentTypes:{Permanent:"",PartTime:""}});o.useState({history:[{company_name:"",department:"",role:""}],additional_information:"",employee_name:"",document_type:"",document_upload:null,basic_salary:"",gross_salary:"",employmentTypes:{Permanent:!1,PartTime:!1}});const[S,G]=o.useState({documents:[]}),i=()=>{j(!1),_(!1),b(!1),setSelectedBranchId(null),reset("d_name")},n=l=>{const{name:t,type:c,value:r,checked:A}=l.target;c==="checkbox"?h(t,A):h(t,r)},B=l=>{l.preventDefault();const t=S.documents.filter(r=>r.name&&r.type&&r.file),c={...s,documents:t};m("/employees-store",{data:c,onSuccess:()=>{d.success("Employee created successfully")},onError:r=>{d.error("An unexpected error occurred.")}})},E=l=>{l.preventDefault(),m("/departments",{onSuccess:()=>{d.success("Department created successfully"),reset(),i()},onError:t=>{t&&typeof t=="object"?Object.entries(t).forEach(([c,r])=>{}):d.error("An unexpected error occurred.")}})},P=l=>{l.preventDefault(),m("/branches",{onSuccess:()=>{d.success("Branch created successfully!"),fetchBranches(),i()},onError:()=>{d.error("An error occurred while creating the branch.")}})},T=l=>{l.preventDefault(),m("/designations",{onSuccess:()=>{d.success("Branch created successfully!"),fetchBranches(),i()},onError:t=>{console.log("jhgfgh",t),d.error("An error occurred while creating the branch.")}})},x=l=>{const{name:t,files:c}=l.target;h(t,c[0])};return e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem] absolute right-0",children:[e.jsx(O,{user:v,notif:f}),e.jsx(q,{user_type:N}),e.jsxs("div",{className:"p-3 table-section",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"grid p-2 mt-2 text-white bg-blue-800 rounded-lg place-items-center",children:e.jsx(I,{href:"employees",children:e.jsx(H,{className:"text-[1rem]"})})})})}),e.jsxs("form",{onSubmit:B,className:"px-[8rem] grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:""}),e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Personal Details"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{id:"name",className:"w-full rounded-lg",name:"name",type:"text",value:s.name,onChange:n}),a.name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",className:"w-full rounded-lg",name:"email",type:"email",value:s.email,onChange:n}),a.email&&e.jsx("div",{children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",className:"w-full rounded-lg",name:"password",type:"password",value:s.password,onChange:n}),a.password&&e.jsx("div",{className:"text-red-500 text-sm",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("input",{id:"phone",className:"w-full rounded-lg",name:"phone",type:"text",value:s.phone,onChange:n}),a.phone&&e.jsx("div",{className:"text-red-500 text-sm",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("input",{id:"address",className:"w-full rounded-lg",name:"address",type:"text",value:s.address,onChange:n}),a.address&&e.jsx("div",{className:"text-red-500 text-sm",children:a.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dob",children:"Date of Birth"}),e.jsx("input",{id:"dob",className:"w-full rounded-lg",name:"dob",type:"date",value:s.dob,onChange:n}),a.dob&&e.jsx("div",{className:"text-red-500 text-sm",children:a.dob})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gender",children:"Gender"}),e.jsxs("select",{id:"gender",className:"w-full rounded-lg",name:"gender",value:s.gender,onChange:n,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),a.gender&&e.jsx("div",{className:"text-red-500 text-sm",children:a.gender})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"joinning_date",children:"Joining Date"}),e.jsx("input",{id:"joinning_date",className:"w-full rounded-lg",name:"joinning_date",type:"date",value:s.joinning_date,onChange:n}),a.joinning_date&&e.jsx("div",{className:"text-red-500 text-sm",children:a.joinning_date})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Company Details"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch_id",children:"Branch ID"}),e.jsxs("select",{id:"branch_id",className:"w-full rounded-lg",name:"branch_id",value:s.branch_id,onChange:n,children:[e.jsx("option",{value:"",children:"Select Branch"}),y.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),a.branch_id&&e.jsx("div",{className:"text-red-500 text-sm",children:a.branch_id})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>_(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(u,{})})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department_id",children:"Department ID"}),e.jsxs("select",{id:"branch_id",className:"w-full rounded-lg",name:"department_id",value:s.department_id,onChange:n,children:[e.jsx("option",{value:"",children:"Select Department"}),C.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),a.department_id&&e.jsx("div",{className:"text-red-500 text-sm",children:a.department_id})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>j(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(u,{})})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"designation_id",children:"Designation ID"}),e.jsxs("select",{id:"designation_id",className:"w-full rounded-lg",name:"designation_id",value:s.designation_id,onChange:n,children:[e.jsx("option",{value:"",children:"Select Designation"}),w.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),a.designation_id&&e.jsx("div",{className:"text-red-500 text-sm",children:a.designation_id})]}),e.jsx("div",{className:"grid place-items-center mt-5",children:e.jsx("a",{onClick:()=>b(!0),className:" rounded bg-blue-950 text-white p-2 h-[2rem]",children:e.jsx(u,{})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company_doj",children:"Company Date of Joining"}),e.jsx("input",{id:"company_doj",className:"w-full rounded-lg",name:"company_doj",type:"date",value:s.company_doj,onChange:n}),a.company_doj&&e.jsx("div",{className:"text-red-500 text-sm",children:a.company_doj})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"roleemployee",children:"Role"}),e.jsxs("select",{id:"roleemployee",className:"w-full rounded-lg",name:"roleemployee",value:s.roleemployee,onChange:n,children:[e.jsx("option",{value:"",children:"Select Role"}),g.map(l=>e.jsx("option",{value:l.name,children:l.name},l.id))]}),a.roleemployee&&e.jsx("div",{className:"text-red-500 text-sm",children:a.roleemployee})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Bank Details"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_holder_name",children:"Account Holder Name"}),e.jsx("input",{id:"account_holder_name",className:"w-full rounded-lg",name:"account_holder_name",type:"text",value:s.account_holder_name,onChange:n}),a.account_holder_name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.account_holder_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_number",children:"Account Number"}),e.jsx("input",{id:"account_number",className:"w-full rounded-lg",name:"account_number",type:"text",value:s.account_number,onChange:n}),a.account_number&&e.jsx("div",{className:"text-red-500 text-sm",children:a.account_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"Bank Name"}),e.jsx("input",{id:"bank_name",className:"w-full rounded-lg",name:"bank_name",type:"text",value:s.bank_name,onChange:n}),a.bank_name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.bank_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_identifier_code",children:"Bank Identifier Code"}),e.jsx("input",{id:"bank_identifier_code",className:"w-full rounded-lg",name:"bank_identifier_code",type:"text",value:s.bank_identifier_code,onChange:n}),a.bank_identifier_code&&e.jsx("div",{className:"text-red-500 text-sm",children:a.bank_identifier_code})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"branch_location",children:"Branch Location"}),e.jsx("input",{id:"branch_location",className:"w-full rounded-lg",name:"branch_location",type:"text",value:s.branch_location,onChange:n}),a.branch_location&&e.jsx("div",{className:"text-red-500 text-sm",children:a.branch_location})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_payer_id",children:"Basic salary *"}),e.jsx("input",{id:"tax_payer_id",className:"w-full rounded-lg",name:"basic_salary",type:"text",value:s.basic_salary,onChange:n}),a.basic_salary&&e.jsx("div",{className:"text-red-500 text-sm",children:a.basic_salary})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_payer_id",children:"Gross salary *"}),e.jsx("input",{id:"tax_payer_id",className:"w-full rounded-lg",name:"net_salary",type:"text",value:s.net_salary,onChange:n}),a.net_salary&&e.jsx("div",{className:"text-red-500 text-sm",children:a.net_salary})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"IFSC Code"}),e.jsx("input",{id:"ifsc_code",className:"w-full rounded-lg",name:"ifsc_code",type:"text",value:s.ifsc_code,onChange:n}),a.ifsc_code&&e.jsx("div",{className:"text-red-500 text-sm",children:a.ifsc_code})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"PTAX NO"}),e.jsx("input",{id:"ptax_no",className:"w-full rounded-lg",name:"ptax_no",type:"text",value:s.ptax_no,onChange:n}),a.ptax_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.ptax_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",children:"PF NO"}),e.jsx("input",{id:"pf_no",className:"w-full rounded-lg",name:"pf_no",type:"text",value:s.pf_no,onChange:n}),a.pf_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.pf_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"esi_no",children:"ESI NO"}),e.jsx("input",{id:"esi_no",className:"w-full rounded-lg",name:"esi_no",type:"text",value:s.esi_no,onChange:n}),a.esi_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.esi_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pan_no",children:"Pan NO"}),e.jsx("input",{id:"pan_no",className:"w-full rounded-lg",name:"pan_no",type:"text",value:s.pan_no,onChange:n}),a.pan_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.pan_no})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aadhar_no",children:"AAdhaar NO"}),e.jsx("input",{id:"aadhar_no",className:"w-full rounded-lg",name:"aadhar_no",type:"text",value:s.aadhar_no,onChange:n}),a.aadhar_no&&e.jsx("div",{className:"text-red-500 text-sm",children:a.aadhar_no})]}),e.jsx("label",{className:"",children:"Employment Type"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"employmentType",value:"Permanent",checked:s.employmentType==="Permanent",onChange:n,className:"mr-2"}),"Permanent"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"employmentType",value:"PartTime",checked:s.employmentType==="PartTime",onChange:n,className:"mr-2"}),"Part-time"]})]}),e.jsx("div",{className:"col-span-2 mt-4",children:e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"History"})}),e.jsxs("div",{className:"col-span-2 mt-6",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Employee Documents"}),e.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"CV Upload"}),e.jsx("input",{type:"file",onChange:x,name:"cv",id:"",className:"border p-2"}),e.jsx("img",{src:s.cv,alt:""}),a.cv&&e.jsx("div",{className:"text-red-500 text-sm",children:a.cv})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"Cancle Cheque Upload"}),e.jsx("input",{type:"file",onChange:x,name:"can_cheque",id:"",className:"border p-2"}),a.can_cheque&&e.jsx("div",{className:"text-red-500 text-sm",children:a.can_cheque})]}),e.jsxs("div",{className:"",children:[e.jsx("h1",{children:"Declaration"}),e.jsx("input",{type:"file",onChange:x,name:"declaration",id:"",className:"border p-2"}),a.declaration&&e.jsx("div",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h1",{children:"Employee"}),e.jsx("input",{type:"file",onChange:x,name:"employee",id:"",className:"border p-2"}),a.employee&&e.jsx("div",{className:"text-red-500 text-sm",children:a.employee})]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 p-2 rounded-md text-white w-[30%] col-span-2",children:"Create"})]})]}),e.jsxs(p,{show:F,onClose:i,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Department"}),e.jsxs("form",{onSubmit:E,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Department Name"}),e.jsx("input",{type:"text",id:"d_name",name:"d_name",value:s.d_name,onChange:n,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),a.d_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.d_name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs(p,{show:k,onClose:i,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Branch"}),e.jsxs("form",{onSubmit:P,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Branch Name"}),e.jsx("input",{type:"text",id:"b_name",name:"b_name",value:s.b_name,onChange:n,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),a.b_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.b_name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs(p,{show:D,onClose:i,children:[e.jsx("h2",{className:"text-lg font-bold p-4",children:"Create Branch"}),e.jsxs("form",{onSubmit:T,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Designation Name"}),e.jsx("input",{type:"text",id:"ds_name",name:"ds_name",value:s.ds_name,onChange:n,className:"w-full p-3 border rounded",placeholder:"Enter department name"}),a.ds_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.ds_name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Create"})})]})]})]})};export{Q as default};
