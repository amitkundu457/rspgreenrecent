import{r as c,j as e}from"./app-DcosoOGz.js";import{u as _}from"./index-Cena-b5t.js";import"./index-Bl1oF8WM.js";const S=()=>{const[i,a]=c.useState([]),[h,l]=c.useState(!1),[r,f]=c.useState(null),{data:m,setData:d,errors:o,reset:x}=_({start_time:"",end_time:""});c.useEffect(()=>{fetch("/office-hours").then(t=>t.json()).then(t=>a(t)).catch(t=>console.error("Error fetching office hours:",t))},[]);const b=()=>{f(null),x(),l(!0)},j=t=>{f(t),d("start_time",t.start_time),d("end_time",t.end_time),l(!0)},p=t=>{window.confirm("Are you sure you want to delete this office hour?")&&fetch(`/office-hours/${t}`,{method:"DELETE"}).then(()=>a(i.filter(n=>n.id!==t))).catch(n=>console.error("Error deleting office hour:",n))},g=t=>{t.preventDefault();const n=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),y={method:r?"PUT":"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n},body:JSON.stringify(m)},N=r?`/office-hours/${r.id}`:"/office-hours";fetch(N,y).then(s=>s.json()).then(s=>{a(r?i.map(u=>u.id===s.id?s:u):[...i,s]),l(!1)}).catch(s=>console.error("Error saving office hour:",s))};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:[e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Office Hours"}),e.jsx("button",{onClick:b,className:"mb-4 px-4 py-2 bg-blue-500 text-white rounded-md",children:"Add Office Hour"}),i.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No office hours available"}):e.jsx("ul",{children:i.map(t=>e.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-gray-300",children:[e.jsx("span",{className:"text-lg",children:`${t.start_time} - ${t.end_time}`}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>j(t),className:"text-yellow-500 mx-2",children:"Edit"}),e.jsx("button",{onClick:()=>p(t.id),className:"text-red-500",children:"Delete"})]})]},t.id))})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-96",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:[r?"Edit":"Add"," Office Hour"]}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"start_time",className:"block text-sm font-medium text-gray-700",children:"Start Time"}),e.jsx("input",{type:"time",id:"start_time",value:m.start_time,onChange:t=>d("start_time",t.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full",required:!0}),o.start_time&&e.jsx("div",{className:"text-sm text-red-500",children:o.start_time})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"end_time",className:"block text-sm font-medium text-gray-700",children:"End Time"}),e.jsx("input",{type:"time",id:"end_time",value:m.end_time,onChange:t=>d("end_time",t.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full",required:!0}),o.end_time&&e.jsx("div",{className:"text-sm text-red-500",children:o.end_time})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"mr-2 px-4 py-2 bg-gray-500 text-white rounded-md",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:r?"Update":"Add"})]})]})]})})]})};export{S as default};
