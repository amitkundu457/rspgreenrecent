import{r as h,j as e}from"./app-Cn1PjxUx.js";import"./jspdf.es.min-BfNj8eKz.js";const B=({combinedData:l,deductions:D,data:s})=>{const[u,A]=h.useState([]),g=h.useRef(null),t=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(o||0),N=()=>{window.history.back()};return e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-start space-x-4 mb-4 print:hidden",children:e.jsx("button",{onClick:N,className:"bg-teal-400 hover:bg-teal-500 text-white py-2 px-4 rounded-full",children:"Back"})}),e.jsx("div",{ref:g,className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-blue-50 to-indigo-100 shadow-lg rounded-lg",children:Array.isArray(l)&&l.length>0?l.map(o=>{var p,y;const{employee_id:d,employeeName:S,generate_date:j,allowance:c=0,total_amount:n=0,approved_by:f,approved_date:v}=o,r=s.find(a=>a.id===d);let b=n+c;const _=u.reduce((a,w)=>a+(parseFloat(w.amount)||0),0);let i=0,x=0;r&&(r.leave_deduction_amount&&(i=parseFloat(r.leave_deduction_amount)),r.late_deduction_amount&&(x=parseFloat(r.late_deduction_amount)));const m=_+i+x;let k=b-m;return e.jsx("div",{className:"mb-8 bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-400 to-blue-500 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 border border-gray-300",children:"Field"}),e.jsx("th",{className:"px-6 py-3 border border-gray-300",children:"Details"})]})}),e.jsxs("tbody",{className:"text-gray-800",children:[e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Employee ID"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300",children:((p=s.find(a=>a.id===d))==null?void 0:p.employee_id)||"N/A"})]}),e.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Employee Name"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-indigo-600 font-bold",children:((y=s.find(a=>a.id===d))==null?void 0:y.employee_name)||"N/A"})]}),e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Salary Date"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300",children:j||"N/A"})]}),e.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Basic Salary"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-green-600 font-bold",children:t(n)})]}),e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Allowance"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-teal-600 font-semibold",children:t(c)})]}),e.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Total Earnings"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-indigo-600 font-bold",children:t(b)})]}),r&&r.leave_deduction_amount>0&&e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Leave Deduction"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-red-600 font-semibold",children:t(r.leave_deduction_amount)})]}),r&&r.late_deduction_amount>0&&e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Late Deduction"}),e.jsxs("td",{className:"px-6 py-3 border border-gray-300 text-red-600 font-semibold",children:[t(r.late_deduction_amount)," (for ",r.late_deduction_days," days)"]})]}),e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Total Deductions"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-red-600 font-semibold",children:t(m)})]}),e.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Net Salary"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-green-700 font-bold",children:t(k)})]}),e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Approved By"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300",children:f||"N/A"})]}),e.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100",children:[e.jsx("td",{className:"px-6 py-3 border border-gray-300 text-black font-semibold",children:"Approved Date"}),e.jsx("td",{className:"px-6 py-3 border border-gray-300",children:v||"N/A"})]})]})]})},d)}):e.jsx("p",{className:"text-center text-gray-700 text-lg",children:"No employee data available."})})]})};export{B as default};
