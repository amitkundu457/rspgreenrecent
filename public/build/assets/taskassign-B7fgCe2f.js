import{r as d,j as e,a as c,b}from"./app-D84j7SCT.js";import{H as f,N as g}from"./Header-C3uwYM-0.js";import"./index-ByJS6pL2.js";import{R as v}from"./index-AGpLmc7r.js";import{C as S}from"./index-BA_vZi2f.js";import{N as w}from"./notyf.min-DLu_xjpT.js";import"./index-D4x-ylCN.js";import"./iconBase-Cc3CELI8.js";import"./index-TAr1_Bl1.js";import"./index-d2EYOdEl.js";const n=new w,R=({user:o,projects:x,user_type:a,notif:m,status:h})=>{const[u,j]=d.useState({}),[r,p]=d.useState([]),N=(s,t)=>{const i=s.target.value;j(l=>({...l,[t]:i})),b.post(`/project-task-status/${t}`,{status:i}).then(l=>{console.log("Success:",l),n.success("Status updated successfully")}).catch(l=>{console.error("Error:",l),n.error("Failed to update status")})};return d.useEffect(()=>{Array.isArray(a)?p(a):console.error("Expected user_type to be an array:",a)},[a]),e.jsxs("div",{className:"w-[85.2%] ml-[11.5rem]",children:[e.jsx(f,{user:o,notif:m}),e.jsx(g,{user_type:a}),e.jsxs("div",{className:"table-section  border-[#0A1B3F] py-3 px-[8rem] rounded-b-md",children:[e.jsx("div",{className:"flex justify-end ",children:e.jsx("div",{className:"flex",children:r.includes("edit_status")&&e.jsx("div",{className:"px-4",children:e.jsx(c,{href:"taskstatus",className:"flex space-x-2 underline",children:e.jsx("span",{className:"font-bold",children:"Create Status"})})})})}),e.jsxs("table",{className:"table w-full p-4 border",children:[e.jsx("thead",{className:"border bg-[#0A1B3F] text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"Project Name"}),r.includes("view_assign")&&e.jsx("th",{className:"p-3 text-left border",children:"Employee Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Assign Task"}),e.jsx("th",{className:"p-3 text-left border",children:"Assign Hours"}),r.includes("edit_status")&&e.jsx("th",{className:"text-left border",children:"Status"})]})}),e.jsx("tbody",{children:x.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 border",children:e.jsx(c,{href:`/projects-show/${s.id}`,children:s.title})}),r.includes("view_assign")&&e.jsx("td",{className:"p-3 border",children:s.name}),e.jsx("td",{className:"p-3 border",children:s.task_name}),e.jsx("td",{className:"p-3 border",children:s.employee_hours}),r.includes("edit_status")&&e.jsx("td",{className:"p-3 border",children:e.jsxs("select",{className:"border-none appearance-none bg-transparent bg-[url('')]",value:u[s.id]||s.status,name:"status",onChange:t=>N(t,s.id),children:[e.jsx("option",{value:"",children:"Select Status"}),h.map(t=>e.jsx("option",{value:t.id,children:t.status_name}))]})}),e.jsx("td",{className:"border",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(c,{className:"text-green-800 text-[1.1rem] bg-[#0C7785] p-1 rounded-md",href:`projects-edit/${s.id}`,children:e.jsx(S,{className:"text-white"})}),e.jsx("button",{className:"text-white text-[1.1rem] bg-[#FF3A6E] p-1 rounded-md",onClick:t=>HandleDelete(t,s.id),children:e.jsx(v,{})})]})})]},s.id))})]})]})]})};export{R as default};
