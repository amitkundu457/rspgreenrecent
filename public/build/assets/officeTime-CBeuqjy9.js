import{r as c,j as e}from"./app-Cn1PjxUx.js";import{u as g}from"./index-B7AX3bCm.js";import"./index-D7OHuJnf.js";const E=()=>{const[r,i]=c.useState([]),[h,n]=c.useState(!1),[a,m]=c.useState(null),{data:d,setData:l,post:y,put:N,errors:o,reset:u}=g({start_time:"",end_time:""});c.useEffect(()=>{fetch("/office-hours").then(t=>t.json()).then(t=>i(t)).catch(t=>console.error("Error fetching office hours:",t))},[]);const x=()=>{m(null),u(),n(!0)},b=t=>{m(t),l("start_time",t.start_time),l("end_time",t.end_time),n(!0)},p=t=>{window.confirm("Are you sure you want to delete this office hour?")&&fetch(`/office-hours/${t}`,{method:"DELETE"}).then(()=>i(r.filter(s=>s.id!==t))).catch(s=>console.error("Error deleting office hour:",s))},j=t=>{t.preventDefault(),a?fetch(`/office-hours/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(s=>s.json()).then(s=>{i(r.map(f=>f.id===s.id?s:f))}).catch(s=>console.error("Error updating office hour:",s)):fetch("/office-hours",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(s=>s.json()).then(s=>{i([...r,s])}).catch(s=>console.error("Error adding office hour:",s)),n(!1)};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:[e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Office Hours"}),e.jsx("button",{onClick:x,className:"mb-4 px-4 py-2 bg-blue-500 text-white rounded-md",children:"Add Office Hour"}),r.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No office hours available"}):e.jsx("ul",{children:r.map(t=>e.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-gray-300",children:[e.jsx("span",{className:"text-lg",children:`${t.start_time} - ${t.end_time}`}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>b(t),className:"text-yellow-500 mx-2",children:"Edit"}),e.jsx("button",{onClick:()=>p(t.id),className:"text-red-500",children:"Delete"})]})]},t.id))})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-96",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:[a?"Edit":"Add"," Office Hour"]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"start_time",className:"block text-sm font-medium text-gray-700",children:"Start Time"}),e.jsx("input",{type:"time",id:"start_time",value:d.start_time,onChange:t=>l("start_time",t.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full",required:!0}),o.start_time&&e.jsx("div",{className:"text-sm text-red-500",children:o.start_time})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"end_time",className:"block text-sm font-medium text-gray-700",children:"End Time"}),e.jsx("input",{type:"time",id:"end_time",value:d.end_time,onChange:t=>l("end_time",t.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full",required:!0}),o.end_time&&e.jsx("div",{className:"text-sm text-red-500",children:o.end_time})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"mr-2 px-4 py-2 bg-gray-500 text-white rounded-md",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:a?"Update":"Add"})]})]})]})})]})};export{E as default};
